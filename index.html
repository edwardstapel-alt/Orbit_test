<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orbit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="manifest" href="/manifest.json" />
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer onerror="console.error('Failed to load Google Identity Services')"></script>
    <script>
      // Service Worker registration - only register if sw.js exists (production)
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          // Check if we're in production by checking if sw.js exists
          fetch('/sw.js', { method: 'HEAD' })
            .then(() => {
              // sw.js exists, register it
              navigator.serviceWorker.register('/sw.js')
                .then(reg => console.log('Service Worker registered', reg))
                .catch(err => console.log('Service Worker registration failed', err));
            })
            .catch(() => {
              // sw.js doesn't exist (development), skip registration
              // Silently ignore - this is expected in development
            });
        });
      }
    </script>
    <script>
      // Prevent zoom on double tap (iOS Safari)
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function (event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
      
      // Prevent pull-to-refresh on mobile (disabled - allow all scrolling)
      // Removed aggressive blocking to allow smooth scrolling in all directions
      
      // Prevent context menu on long press (mobile)
      document.addEventListener('contextmenu', function(e) {
        if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
          e.preventDefault();
        }
      });
      
      // Prevent text selection on double tap (mobile)
      let lastTap = 0;
      document.addEventListener('touchend', function(e) {
        const currentTime = new Date().getTime();
        const tapLength = currentTime - lastTap;
        if (tapLength < 300 && tapLength > 0) {
          e.preventDefault();
          const target = e.target;
          if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {
            target.focus();
          }
        }
        lastTap = currentTime;
      }, false);
    </script>
    <style>
      :root {
        --color-primary: #D95829;
        --bg-background: #F2F2F2;
        --bg-surface: #FFFFFF;
        --text-main: #262626;
        --text-secondary: #595959;
        --text-tertiary: #A6A6A6;
        --border-color: #E5E7EB;
      }
      
      .dark {
        --bg-background: #0F172A;
        --bg-surface: #1E293B;
        --text-main: #F1F5F9;
        --text-secondary: #CBD5E1;
        --text-tertiary: #94A3B8;
        --border-color: #334155;
      }
      
      .black {
        --bg-background: #000000;
        --bg-surface: #0A0A0A;
        --text-main: #F1F5F9;
        --text-secondary: #CBD5E1;
        --text-tertiary: #94A3B8;
        --border-color: #1A1A1A;
      }
      
      html, body {
        background-color: var(--bg-background);
        color: var(--text-main);
        transition: background-color 0.3s ease, color 0.3s ease;
        /* Allow scrolling */
        overflow-x: hidden;
        overflow-y: auto;
        /* Enable smooth scrolling */
        -webkit-overflow-scrolling: touch;
        /* Hide scrollbar for Chrome, Safari and Opera */
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
      }
      
      /* Ensure scroll containers can scroll */
      .overflow-y-auto {
        -webkit-overflow-scrolling: touch;
        overscroll-behavior-y: contain;
      }
      body::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      /* Material Symbols Adjustment */
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
      }
      .material-symbols-outlined.filled {
        font-variation-settings:
        'FILL' 1,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
      }

      /* Android Safe Area Insets - Prevent content from going under notch */
      [style*="position: sticky"][style*="top: 0"],
      .sticky.top-0 {
        padding-top: env(safe-area-inset-top, 30px) !important;
      }
      
      /* Range Slider Styling */
      input[type=range] {
        -webkit-appearance: none; 
        background: transparent; 
      }
      input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        height: 24px;
        width: 24px;
        border-radius: 50%;
        background: var(--color-primary);
        cursor: pointer;
        margin-top: -10px; 
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        border: 2px solid #fff;
      }
      input[type=range]::-webkit-slider-runnable-track {
        width: 100%;
        height: 4px;
        cursor: pointer;
        background: var(--bg-surface);
        border-radius: 9999px;
      }
      
      /* Dark mode transitions */
      * {
        transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
      }
      
      /* Dark mode overrides for common classes */
      .dark .bg-background,
      .black .bg-background {
        background-color: var(--bg-background) !important;
      }
      
      .dark .bg-white,
      .black .bg-white {
        background-color: var(--bg-surface) !important;
      }
      
      .dark .text-text-main,
      .black .text-text-main {
        color: var(--text-main) !important;
      }
      
      .dark .text-text-secondary,
      .black .text-text-secondary {
        color: var(--text-secondary) !important;
      }
      
      .dark .text-text-tertiary,
      .black .text-text-tertiary {
        color: var(--text-tertiary) !important;
      }
      
      .dark .border-slate-200\/50,
      .dark .border-gray-100,
      .dark .border-slate-100,
      .dark .border-gray-200,
      .black .border-slate-200\/50,
      .black .border-gray-100,
      .black .border-slate-100,
      .black .border-gray-200 {
        border-color: var(--border-color) !important;
      }
      
      /* Black theme - Subtle borders */
      .black .border-gray-50,
      .black .border-slate-50 {
        border-color: #0F0F0F !important;
      }
      
      .black .border-gray-100,
      .black .border-slate-100 {
        border-color: #1A1A1A !important;
      }
      
      .black .border-gray-200,
      .black .border-slate-200 {
        border-color: #1F1F1F !important;
      }
      
      .dark .hover\:bg-slate-200:hover,
      .dark .hover\:bg-gray-50:hover,
      .black .hover\:bg-slate-200:hover,
      .black .hover\:bg-gray-50:hover {
        background-color: rgba(255, 255, 255, 0.05) !important;
      }
      
      /* Line clamp utilities */
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      
      .dark .bg-gray-50 {
        background-color: rgba(255, 255, 255, 0.03) !important;
      }
      
      .dark .bg-gray-50\/50,
      .dark .bg-gray-50\/30,
      .dark .bg-gray-50\/20,
      .dark .bg-gray-50\/10 {
        background-color: rgba(255, 255, 255, 0.015) !important;
      }
      
      .black .bg-gray-50 {
        background-color: rgba(255, 255, 255, 0.02) !important;
      }
      
      .black .bg-gray-50\/50,
      .black .bg-gray-50\/30,
      .black .bg-gray-50\/20,
      .black .bg-gray-50\/10 {
        background-color: rgba(255, 255, 255, 0.01) !important;
      }
      
      .dark .bg-slate-50 {
        background-color: rgba(255, 255, 255, 0.03) !important;
      }
      
      .dark .bg-slate-50\/50,
      .dark .bg-slate-50\/30,
      .dark .bg-slate-50\/20,
      .dark .bg-slate-50\/10 {
        background-color: rgba(255, 255, 255, 0.015) !important;
      }
      
      .black .bg-slate-50 {
        background-color: rgba(255, 255, 255, 0.02) !important;
      }
      
      .black .bg-slate-50\/50,
      .black .bg-slate-50\/30,
      .black .bg-slate-50\/20,
      .black .bg-slate-50\/10 {
        background-color: rgba(255, 255, 255, 0.01) !important;
      }
      
      /* Dark/Black theme - Override white with opacity */
      .dark .bg-white\/50,
      .dark .bg-white\/30,
      .dark .bg-white\/20,
      .dark .bg-white\/10 {
        background-color: rgba(255, 255, 255, 0.05) !important;
      }
      
      .black .bg-white\/50,
      .black .bg-white\/30,
      .black .bg-white\/20,
      .black .bg-white\/10 {
        background-color: rgba(255, 255, 255, 0.03) !important;
      }
      
      .dark .shadow-sm,
      .black .shadow-sm {
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3) !important;
      }
      
      /* Dark mode status colors - Progress bars (with 50% saturation) */
      .dark .bg-green-500 {
        background-color: #16a34a !important;
      }
      .dark .bg-green-400 {
        background-color: #22c55e !important;
      }
      .dark .bg-amber-500 {
        background-color: #d97706 !important;
      }
      .dark .bg-amber-400 {
        background-color: #f59e0b !important;
      }
      .dark .bg-red-500 {
        background-color: #dc2626 !important;
      }
      .dark .bg-red-400 {
        background-color: #ef4444 !important;
      }
      .dark .bg-gray-400 {
        background-color: #9ca3af !important;
      }
      
      /* Dark mode status badges - Background colors (with 50% saturation) */
      .dark .bg-green-100 {
        background-color: rgba(22, 163, 74, 0.2) !important;
      }
      .dark .bg-green-50 {
        background-color: rgba(22, 163, 74, 0.15) !important;
      }
      .dark .bg-amber-100 {
        background-color: rgba(217, 119, 6, 0.2) !important;
      }
      .dark .bg-amber-50 {
        background-color: rgba(217, 119, 6, 0.15) !important;
      }
      .dark .bg-red-100 {
        background-color: rgba(220, 38, 38, 0.2) !important;
      }
      .dark .bg-red-50 {
        background-color: rgba(220, 38, 38, 0.15) !important;
      }
      .dark .bg-gray-100 {
        background-color: rgba(156, 163, 175, 0.2) !important;
      }
      
      /* Dark mode status borders (with 50% saturation) */
      .dark .border-green-200 {
        border-color: rgba(22, 163, 74, 0.3) !important;
      }
      .dark .border-amber-200 {
        border-color: rgba(217, 119, 6, 0.3) !important;
      }
      .dark .border-red-200 {
        border-color: rgba(220, 38, 38, 0.3) !important;
      }
      .dark .border-red-100 {
        border-color: rgba(220, 38, 38, 0.2) !important;
      }
      
      /* Dark mode status badges - Text colors (with 50% saturation) */
      .dark .text-green-600,
      .dark .text-green-700 {
        color: #4ade80 !important;
      }
      .dark .text-green-800 {
        color: #86efac !important;
      }
      .dark .text-amber-700 {
        color: #fbbf24 !important;
      }
      .dark .text-red-700 {
        color: #f87171 !important;
      }
      .dark .text-red-500 {
        color: #f87171 !important;
      }
      .dark .text-gray-600 {
        color: #d1d5db !important;
      }
      
      /* Dark mode progress bar backgrounds - override for progress bars */
      .dark .h-2.bg-gray-100,
      .dark .h-1\.5.bg-gray-100,
      .dark .h-1\.5.bg-gray-50 {
        background-color: rgba(255, 255, 255, 0.1) !important;
      }
      
      /* Dark mode hover states for status colors (with 50% saturation) */
      .dark .hover\:bg-red-50:hover {
        background-color: rgba(220, 38, 38, 0.2) !important;
      }
      .dark .hover\:bg-red-100:hover {
        background-color: rgba(220, 38, 38, 0.25) !important;
      }
      .dark .hover\:bg-green-50:hover {
        background-color: rgba(22, 163, 74, 0.2) !important;
      }
      .dark .hover\:bg-amber-50:hover {
        background-color: rgba(217, 119, 6, 0.2) !important;
      }
      
      /* Dark mode status indicator dots - ensure visibility */
      .dark .bg-green-500,
      .dark .bg-amber-500,
      .dark .bg-red-500,
      .dark .bg-gray-400 {
        opacity: 1 !important;
      }
      
      /* Black theme - 50% saturation colors for OLED screens */
      .black .bg-green-500 {
        background-color: #4b9c69 !important;
      }
      .black .bg-green-400 {
        background-color: #6fb98a !important;
      }
      .black .bg-amber-500 {
        background-color: #bb8f45 !important;
      }
      .black .bg-amber-400 {
        background-color: #c5a75a !important;
      }
      .black .bg-red-500 {
        background-color: #c46f6f !important;
      }
      .black .bg-red-400 {
        background-color: #d69393 !important;
      }
      .black .bg-gray-400 {
        background-color: #a1a4aa !important;
      }
      
      .black .bg-green-100 {
        background-color: rgba(75, 156, 105, 0.15) !important;
      }
      .black .bg-green-50 {
        background-color: rgba(75, 156, 105, 0.1) !important;
      }
      .black .bg-amber-100 {
        background-color: rgba(187, 143, 69, 0.15) !important;
      }
      .black .bg-amber-50 {
        background-color: rgba(187, 143, 69, 0.1) !important;
      }
      .black .bg-red-100 {
        background-color: rgba(196, 111, 111, 0.15) !important;
      }
      .black .bg-red-50 {
        background-color: rgba(196, 111, 111, 0.1) !important;
      }
      .black .bg-gray-100 {
        background-color: rgba(161, 164, 170, 0.15) !important;
      }
      
      .black .border-green-200 {
        border-color: rgba(75, 156, 105, 0.2) !important;
      }
      .black .border-amber-200 {
        border-color: rgba(187, 143, 69, 0.2) !important;
      }
      .black .border-red-200 {
        border-color: rgba(196, 111, 111, 0.2) !important;
      }
      .black .border-red-100 {
        border-color: rgba(196, 111, 111, 0.15) !important;
      }
      
      .black .text-green-600,
      .black .text-green-700 {
        color: #398053 !important;
      }
      .black .text-green-800 {
        color: #2a5139 !important;
      }
      .black .text-amber-700 {
        color: #895934 !important;
      }
      .black .text-red-700 {
        color: #924343 !important;
      }
      .black .text-red-500 {
        color: #c46f6f !important;
      }
      .black .text-gray-600 {
        color: #51565d !important;
      }
      
      .black .h-2.bg-gray-100,
      .black .h-1\.5.bg-gray-100,
      .black .h-1\.5.bg-gray-50 {
        background-color: rgba(255, 255, 255, 0.08) !important;
      }
      
      .black .hover\:bg-red-50:hover {
        background-color: rgba(196, 111, 111, 0.15) !important;
      }
      .black .hover\:bg-red-100:hover {
        background-color: rgba(196, 111, 111, 0.2) !important;
      }
      .black .hover\:bg-green-50:hover {
        background-color: rgba(75, 156, 105, 0.15) !important;
      }
      .black .hover\:bg-amber-50:hover {
        background-color: rgba(187, 143, 69, 0.15) !important;
      }
      
      .black .bg-green-500,
      .black .bg-amber-500,
      .black .bg-red-500,
      .black .bg-gray-400 {
        opacity: 1 !important;
      }
      
      /* Light theme - Fix white text on light backgrounds */
      /* Ensure text-white only works on dark backgrounds (bg-primary, bg-red-500, etc.) */
      /* Override when text-white is used with light backgrounds */
      .bg-white.text-white,
      .bg-gray-50.text-white,
      .bg-gray-100.text-white,
      .bg-slate-50.text-white,
      .bg-slate-100.text-white {
        color: var(--text-main) !important;
      }
      
      /* Light theme - But preserve text-white on dark backgrounds (higher specificity) */
      button.bg-primary.text-white,
      .bg-primary.text-white,
      button.bg-red-500.text-white,
      .bg-red-500.text-white,
      button.bg-green-500.text-white,
      .bg-green-500.text-white,
      button.bg-blue-500.text-white,
      .bg-blue-500.text-white,
      button.bg-blue-600.text-white,
      .bg-blue-600.text-white,
      button.bg-amber-500.text-white,
      .bg-amber-500.text-white,
      button.bg-purple-500.text-white,
      .bg-purple-500.text-white,
      button.bg-pink-500.text-white,
      .bg-pink-500.text-white,
      button.bg-teal-500.text-white,
      .bg-teal-500.text-white,
      button.bg-teal-600.text-white,
      .bg-teal-600.text-white,
      button.bg-indigo-500.text-white,
      .bg-indigo-500.text-white {
        color: #FFFFFF !important;
      }
      
      /* Light theme - Buttons with bg-gray-100 should use text-text-tertiary */
      button.bg-gray-100 {
        color: var(--text-tertiary) !important;
      }
      
      button.bg-gray-100:hover {
        color: var(--text-secondary) !important;
      }
      
      /* Dark/Black theme - text-white should work on light backgrounds */
      .dark .bg-white.text-white,
      .dark .bg-gray-50.text-white,
      .dark .bg-gray-100.text-white,
      .dark .bg-slate-50.text-white,
      .dark .bg-slate-100.text-white,
      .black .bg-white.text-white,
      .black .bg-gray-50.text-white,
      .black .bg-gray-100.text-white,
      .black .bg-slate-50.text-white,
      .black .bg-slate-100.text-white {
        color: #FFFFFF !important;
      }
      
      /* Dark/Black theme - Buttons with bg-gray-100 should have light text */
      .dark button.bg-gray-100,
      .black button.bg-gray-100 {
        color: var(--text-tertiary) !important;
        background-color: rgba(255, 255, 255, 0.1) !important;
      }
      
      .dark button.bg-gray-100:hover,
      .black button.bg-gray-100:hover {
        color: var(--text-secondary) !important;
        background-color: rgba(255, 255, 255, 0.15) !important;
      }
      
      input[type=range]:focus {
        outline: none;
      }
      
      /* Black theme - Inverted input fields (dark background, light text) */
      .black input[type="text"],
      .black input[type="email"],
      .black input[type="password"],
      .black input[type="number"],
      .black input[type="date"],
      .black input[type="time"],
      .black input[type="datetime-local"],
      .black input[type="search"],
      .black input[type="tel"],
      .black input[type="url"],
      .black textarea,
      .black select {
        background-color: #000000 !important;
        color: #FFFFFF !important;
        border-color: #1A1A1A !important;
      }
      
      .black input[type="text"]::placeholder,
      .black input[type="email"]::placeholder,
      .black input[type="password"]::placeholder,
      .black input[type="number"]::placeholder,
      .black input[type="date"]::placeholder,
      .black input[type="time"]::placeholder,
      .black input[type="datetime-local"]::placeholder,
      .black input[type="search"]::placeholder,
      .black input[type="tel"]::placeholder,
      .black input[type="url"]::placeholder,
      .black textarea::placeholder,
      .black select::placeholder {
        color: #6B7280 !important;
        opacity: 1;
      }
      
      .black input[type="text"]:focus,
      .black input[type="email"]:focus,
      .black input[type="password"]:focus,
      .black input[type="number"]:focus,
      .black input[type="date"]:focus,
      .black input[type="time"]:focus,
      .black input[type="datetime-local"]:focus,
      .black input[type="search"]:focus,
      .black input[type="tel"]:focus,
      .black input[type="url"]:focus,
      .black textarea:focus,
      .black select:focus {
        background-color: #000000 !important;
        border-color: var(--color-primary) !important;
        outline: none !important;
        box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2) !important;
      }
      
      /* Black theme - Override bg-white, bg-gray-50, bg-gray-100 for input containers */
      .black .bg-white input,
      .black .bg-white textarea,
      .black .bg-white select,
      .black .bg-gray-50 input,
      .black .bg-gray-50 textarea,
      .black .bg-gray-50 select,
      .black .bg-gray-100 input,
      .black .bg-gray-100 textarea,
      .black .bg-gray-100 select,
      .black .bg-slate-50 input,
      .black .bg-slate-50 textarea,
      .black .bg-slate-50 select,
      .black .bg-slate-100 input,
      .black .bg-slate-100 textarea,
      .black .bg-slate-100 select {
        background-color: #000000 !important;
        color: #FFFFFF !important;
        border-color: #1A1A1A !important;
      }
      
      /* Black theme - Override bg-gray-50 and bg-slate-50 classes when used directly on inputs */
      .black input.bg-gray-50,
      .black textarea.bg-gray-50,
      .black select.bg-gray-50,
      .black input.bg-slate-50,
      .black textarea.bg-slate-50,
      .black select.bg-slate-50,
      .black input.bg-white,
      .black textarea.bg-white,
      .black select.bg-white,
      .black input.bg-gray-100,
      .black textarea.bg-gray-100,
      .black select.bg-gray-100 {
        background-color: #000000 !important;
        color: #FFFFFF !important;
        border-color: #1A1A1A !important;
      }
      
      /* Black theme - Override placeholder colors in input fields */
      .black input::placeholder,
      .black textarea::placeholder {
        color: #6B7280 !important;
        opacity: 1;
      }
      
      /* Black theme - Override border colors for inputs */
      .black input.border-gray-100,
      .black input.border-gray-200,
      .black input.border-slate-100,
      .black input.border-slate-200,
      .black textarea.border-gray-100,
      .black textarea.border-gray-200,
      .black textarea.border-slate-100,
      .black textarea.border-slate-200,
      .black select.border-gray-100,
      .black select.border-gray-200,
      .black select.border-slate-100,
      .black select.border-slate-200 {
        border-color: #1A1A1A !important;
      }
      
      /* Black theme - Input fields should have transparent background when parent has bg-transparent */
      .black input.bg-transparent,
      .black textarea.bg-transparent,
      .black select.bg-transparent {
        background-color: #000000 !important;
      }
      
      /* Black theme - Override gradient backgrounds */
      .black .bg-gradient-to-br,
      .black .bg-gradient-to-r,
      .black .bg-gradient-to-l,
      .black .bg-gradient-to-t,
      .black .bg-gradient-to-b,
      .black .bg-gradient-to-tr,
      .black .bg-gradient-to-tl,
      .black .bg-gradient-to-bl,
      .black .bg-gradient-to-br {
        background: linear-gradient(to bottom right, #0A0A0A, #000000) !important;
      }
      
      .black .from-white,
      .black .from-gray-50,
      .black .from-gray-100,
      .black .from-slate-50,
      .black .from-slate-100 {
        --tw-gradient-from: #0A0A0A !important;
      }
      
      .black .to-white,
      .black .to-gray-50,
      .black .to-gray-100,
      .black .to-slate-50,
      .black .to-slate-100 {
        --tw-gradient-to: #000000 !important;
      }
      
      /* Black theme - Specific gradient combinations */
      .black .bg-gradient-to-br.from-white.to-gray-50,
      .black .bg-gradient-to-br.from-gray-50.to-white,
      .black .bg-gradient-to-r.from-white.to-gray-50,
      .black .bg-gradient-to-r.from-gray-50.to-white {
        background: linear-gradient(to bottom right, #0A0A0A, #000000) !important;
      }
      
      /* Black theme - Override white borders */
      .black .border-white {
        border-color: #1A1A1A !important;
      }
      
      /* Black theme - Override shadow-soft and other shadows */
      .black .shadow-soft {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>